<html>
  <head>
    <meta charset="utf-8">
    <title>Tests</title>
    <!--link rel="stylesheet" href="../node_modules/mocha/mocha.css" /-->
    <style>
      /* Goal is to let the sandbox to fill the whole viewport */
      html, body {
        margin: 0;
        padding: 0;
      }
      #mocha { display: none; }
      #taaspace-sandbox {
        width: 100%;
        height: 100%;
      }
    </style>
    <link rel="stylesheet" href="../taaspace.css">
  </head>
  <body>
    <div id="mocha"></div>
    <div id="taaspace-sandbox"></div>
    <script src="../node_modules/mocha/mocha.js"></script>
    <script src="../node_modules/chai/chai.js"></script>
    <script src="../node_modules/chai-shallow-deep-almost-equal/chai-shallow-deep-almost-equal.js"></script>
    <script src="../node_modules/jquery/dist/jquery.js"></script>
    <script src="../node_modules/chai-jquery/chai-jquery.js"></script>
    <script>
      mocha.ui('bdd');
      mocha.reporter('html');
      var should = chai.should(); // 'var' important, otherwise RangeError
    </script>
    <script src="../taaspace.min.js"></script>
    <script src="taaspace.phantom.js"></script>
    <script>
      var takeScreenshot = function () {
        // Take screenshot.
        // See https://www.npmjs.com/package/mocha-phantomjs
        if (window.callPhantom) {
          var filename = "tests/screenshots/" + Date.now();
          console.log("Taking screenshot " + filename);
          callPhantom({'screenshot': filename});
        }
      };

      if (window.mochaPhantomJS) { mochaPhantomJS.run(); }
      else { mocha.run(); }
    </script>
  </body>
</html>
