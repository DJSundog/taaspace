{"version":3,"file":"taaspace.min.js","sources":["taaspace.js"],"names":["window","Taaspace","exports","Space","this","_elems","_vps","_elemIdCounter","_keyboardManager","KeyboardManager","create","prototype","box","i","b","minx","miny","maxx","maxy","length","x0","y0","x1","y1","Math","min","max","pivot","xyOrViewportOrElement","xy","x","y","remove","elem","_","reject","createImage","src","options","im","Image","_id","String","_addElement","createText","string","t","Text","createCustom","createNetwork","createGroup","createViewport","containerEl","vp","Viewport","_addViewport","select","elementOrViewport","deselect","push","each","_createDomElement","_moveDomElement","_scaleDomElement","_listenDomElements","type","callback","_listenDomElement","_onKey","code","handler","on","_offKey","off","Element","Elem","_space","_x","_y","_w","_h","_px","_py","width","height","center","visibilityRatio","viewport","visibilityRatioOf","distanceRatio","distanceRatioOf","focusRatio","focusRatioOf","isInside","isOutside","size","scale","rotate","moveTo","moveBy","dx","dy","scalable","rotatable","draggable","_domAppend","_domMove","domElem","fromSpace","css","left","top","_domScale","nw","se","_domRotate","_domRemove","_domListen","eventType","mousewheel","event","delta","Hammer","View","space","container","_container","document","querySelector","hasOwnProperty","$","position","overflow","_scale","_hammertime","_domPairs","_draggable","_scalable","that","_fromSpace","apply","arguments","screenW","toSpaceDistance","screenH","toSpace","d","fromSpaceDistance","disableDomUpdate","_moveEachDomElement","multiplier","ob","oa","_scaleEachDomElement","focusTo","coverage","bcx","bcy","bw","bh","scalex","scaley","s","onoff","op","status","onmousewheel","offset","cx","pageX","cy","pageY","spacePivot","onkeyplus","onkeyminus","prevdx","prevdy","ondragstart","ondrag","ev","gesture","preventDefault","deltaX","deltaY","onkeyup","onkeydown","onkeyleft","onkeyright","hideElement","showElement","indexOf","jwertyCode","substring","_getDomPair","id","name","message","_eachDomPair","iterator","dom","fs","pair","sc","_string","_fontSize","fontSize","newSize","fontScale","p","createElement","method","disableHTML","append","font-size","Img","_src","attr","Group","G","Network","Net","root","Custom","C","el","Manager","_c","_pairs","_selected","obj","contains","isSelected","oldset","newset","without","pairSetAdded","addPair","jwerty","key","pairset","execset","filter","object","call","removePair","clean","pairs","module"],"mappings":"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"}