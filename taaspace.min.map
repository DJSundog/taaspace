{"version":3,"file":"taaspace.min.js","sources":["taaspace.js"],"names":["window","Taaspace","exports","Space","containerHtmlElement","options","name","message","this","_elems","_idCounter","_keyboardManager","KeyboardManager","create","_container","jQuery","_vp","Viewport","property","proto","_View","prototype","that","importViewportProperty","apply","arguments","hasOwnProperty","extension","boundingBox","i","b","minx","miny","maxx","maxy","length","box","x0","y0","x1","y1","Math","min","max","origo","xyOrElement","xy","x","y","pivot","remove","elem","_removeHtmlElement","_removeSpaceElement","importSpaceElement","pluginElement","spaceElement","_identify","_addSpaceElement","_appendHtmlElement","select","_select","deselect","_deselect","obj","_id","String","_validateSpaceElement","push","_","reject","_eachSpaceElement","fn","each","element","_onKey","code","elementOrViewport","handler","on","_offKey","off","SpaceElement","Elem","_space","_htmlElement","_hammertime","_x","_y","_w","_h","_px","_py","_animation","width","height","center","area","visibilityRatio","visibilityRatioOf","distanceRatio","distanceRatioOf","focusRatio","focusRatioOf","isInside","isOutside","size","_scaleHtmlElement","scale","rotate","moveTo","moveBy","dx","dy","_moveHtmlElement","scalable","rotatable","draggable","console","warn","movable","attr","css","eventType","callback","_eventOnHtmlElement","_eventOffHtmlElement","_selectHtmlElement","_deselectHtmlElement","translatePointFromSpace","move","get","set","duration","delay","end","call","left","top","from","nw","se","_rotateHtmlElement","indexOf","jwertyCode","substring","toggleClass","View","space","c","position","overflow","_scale","Hammer","_movable","_scalable","screenW","translateDistanceToSpace","screenH","translatePointToSpace","d","translateDistanceFromSpace","disableHtmlUpdate","el","multiplier","ob","oa","focusTo","coverage","bcx","bcy","bw","bh","scalex","scaley","s","onoff","op","status","onmousewheel","event","delta","offset","cx","pageX","cy","pageY","spacePivot","onkeyplus","onkeyminus","prevdx","prevdy","ondragstart","defaultAnimOptions","ease","animOptions","ondrag","ev","gesture","preventDefault","deltaX","deltaY","onkeyup","onkeydown","onkeyleft","onkeyright","disableAnimation","Text","string","_string","_fontSize","fontSize","createText","txt","newSize","fontScale","p","$","document","createElement","method","disableHTML","class","SPACE_ELEMENT_CLASS","append","dist","font-size","Image","Img","src","_src","createImage","image","Group","G","Network","Net","root","Custom","C","Manager","container","_c","_pairs","_selected","contains","isSelected","oldset","newset","without","pairSetAdded","addPair","jwerty","key","pairset","execset","filter","object","pair","removePair","clean","pairs","version","module"],"mappings":"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"}