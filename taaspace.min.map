{"version":3,"file":"taaspace.min.js","sources":["taaspace.js"],"names":["window","Taaspace","exports","Space","this","_elems","_vps","_elemIdCounter","_keyboardManager","KeyboardManager","create","prototype","box","i","b","minx","miny","maxx","maxy","length","x0","y0","x1","y1","Math","min","max","pivot","xyOrViewportOrElement","xy","x","y","remove","elem","_","reject","createImage","src","options","im","Image","_id","String","_addElement","createText","string","t","Text","createCustom","createNetwork","createGroup","createViewport","containerEl","vp","Viewport","_addViewport","select","elementOrViewport","deselect","push","each","_createDomElement","_moveDomElement","_scaleDomElement","_listenDomElements","type","callback","_listenDomElement","_onKey","code","handler","on","_offKey","off","Element","Elem","_space","_x","_y","_w","_h","_px","_py","_animation","width","height","center","visibilityRatio","viewport","visibilityRatioOf","distanceRatio","distanceRatioOf","focusRatio","focusRatioOf","isInside","isOutside","size","scale","rotate","moveTo","moveBy","dx","dy","scalable","rotatable","draggable","_domAppend","_domMove","domElem","fromSpace","hasOwnProperty","move","get","set","duration","delay","that","end","css","left","top","_domScale","nw","se","_domRotate","_domRemove","_domListen","eventType","mousewheel","event","delta","Hammer","View","space","container","_container","document","querySelector","$","position","overflow","_scale","_hammertime","_domPairs","_draggable","_scalable","_fromSpace","apply","arguments","screenW","toSpaceDistance","screenH","toSpace","d","fromSpaceDistance","disableDomUpdate","_moveEachDomElement","multiplier","ob","oa","_scaleEachDomElement","focusTo","coverage","bcx","bcy","bw","bh","scalex","scaley","s","onoff","op","status","onmousewheel","offset","cx","pageX","cy","pageY","spacePivot","onkeyplus","onkeyminus","prevdx","prevdy","ondragstart","ondrag","ev","gesture","preventDefault","deltaX","deltaY","onkeyup","onkeydown","onkeyleft","onkeyright","hideElement","showElement","indexOf","jwertyCode","substring","_getDomPair","id","name","message","_eachDomPair","iterator","dom","fs","pair","sc","_string","_fontSize","fontSize","newSize","fontScale","p","createElement","method","disableHTML","append","font-size","Img","_src","attr","Group","G","Network","Net","root","Custom","C","el","Manager","_c","_pairs","_selected","obj","contains","isSelected","oldset","newset","without","pairSetAdded","addPair","jwerty","key","pairset","execset","filter","object","call","removePair","clean","pairs","module"],"mappings":"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"}