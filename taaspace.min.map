{"version":3,"file":"taaspace.min.js","sources":["taaspace.js"],"names":["window","Taaspace","exports","Space","this","_elems","_vps","_spaceElementIdCounter","_vpIdCounter","_keyboardManager","KeyboardManager","create","extension","prototype","box","i","b","minx","miny","maxx","maxy","length","x0","y0","x1","y1","Math","min","max","pivot","xyOrViewportOrElement","xy","x","y","remove","elem","_","reject","importSpaceElement","pluginElement","_id","String","spaceElement","push","each","vp","_createDomElement","createViewport","containerEl","options","Viewport","_addViewport","select","elementOrViewport","deselect","_eachDomElement","fn","args","_applyDomElement","_moveDomElement","_scaleDomElement","_listenDomElements","type","callback","_listenDomElement","_onKey","code","handler","on","_offKey","off","Element","Elem","_space","_x","_y","_w","_h","_px","_py","_animation","width","height","center","visibilityRatio","viewport","visibilityRatioOf","distanceRatio","distanceRatioOf","focusRatio","focusRatioOf","isInside","isOutside","size","scale","rotate","moveTo","moveBy","dx","dy","scalable","rotatable","draggable","console","warn","movable","apply","arguments","attr","_domAppend","_domMove","domElem","fromSpace","hasOwnProperty","move","get","set","duration","delay","that","end","css","left","top","_domScale","nw","se","_domRotate","_domRemove","_domListen","eventType","mousewheel","event","delta","Hammer","View","space","container","_container","document","querySelector","$","position","overflow","_scale","_hammertime","_domPairs","_movable","_scalable","_fromSpace","screenW","toSpaceDistance","screenH","toSpace","d","fromSpaceDistance","disableDomUpdate","_moveEachDomElement","multiplier","ob","oa","_scaleEachDomElement","focusTo","coverage","bcx","bcy","bw","bh","scalex","scaley","s","onoff","op","status","onmousewheel","offset","cx","pageX","cy","pageY","spacePivot","onkeyplus","onkeyminus","prevdx","prevdy","ondragstart","defaultAnimOptions","ease","animOptions","ondrag","ev","gesture","preventDefault","deltaX","deltaY","onkeyup","onkeydown","onkeyleft","onkeyright","disableAnimation","hideElement","showElement","indexOf","jwertyCode","substring","_getDomPair","id","name","message","_eachDomPair","iterator","dom","extendedArgs","slice","unshift","fs","pair","sc","Text","string","_string","_fontSize","fontSize","createText","txt","newSize","fontScale","p","createElement","method","disableHTML","append","font-size","Image","Img","src","_src","createImage","image","Group","G","Network","Net","root","Custom","C","el","Manager","_c","_pairs","_selected","obj","contains","isSelected","oldset","newset","without","pairSetAdded","addPair","jwerty","key","pairset","execset","filter","object","call","removePair","clean","pairs","module"],"mappings":"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"}