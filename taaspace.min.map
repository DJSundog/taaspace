{"version":3,"file":"taaspace.min.js","sources":["taaspace.js"],"names":["window","Taaspace","exports","Space","containerHtmlElement","options","name","message","this","_elems","_idCounter","_keyboardManager","KeyboardManager","create","_container","jQuery","_vp","Viewport","extension","prototype","getViewport","box","i","b","minx","miny","maxx","maxy","length","x0","y0","x1","y1","Math","min","max","origo","xyOrElement","xy","x","y","pivot","remove","elem","_removeHtmlElement","_removeSpaceElement","importSpaceElement","pluginElement","spaceElement","_identify","_addSpaceElement","_appendHtmlElement","obj","_id","String","_validateSpaceElement","push","_","reject","_eachSpaceElement","fn","each","_select","element","select","_deselect","deselect","_onKey","code","elementOrViewport","handler","on","_offKey","off","SpaceElement","Elem","_space","_htmlElement","_hammertime","_x","_y","_w","_h","_px","_py","_animation","width","height","center","area","visibilityRatio","visibilityRatioOf","distanceRatio","distanceRatioOf","focusRatio","focusRatioOf","isInside","isOutside","size","_scaleHtmlElement","scale","multiplier","px0","py0","px1","py1","dx","dy","moveBy","disableHtmlUpdate","hasOwnProperty","rotate","moveTo","disableHtml","_moveHtmlElement","scalable","rotatable","draggable","console","warn","movable","apply","arguments","key","eventType","callback","_eventOnHtmlElement","_eventOffHtmlElement","_selectHtmlElement","_animationEnder","duration","delay","that","end","call","vp","translatePointFromSpace","move","get","set","css","left","top","nw","se","w","h","animate","ease","_rotateHtmlElement","indexOf","jwertyCode","substring","onoff","toggleClass","View","space","c","position","overflow","_scale","Hammer","_movable","_scalable","_View","screenW","translateDistanceToSpace","screenH","translatePointToSpace","d","translateDistanceFromSpace","el","ob","oa","focusTo","coverage","bcx","bcy","bw","bh","scalex","scaley","s","prevdx","prevdy","delta","status","ondragstart","defaultAnimOptions","animOptions","ondrag","ev","gesture","preventDefault","deltaX","deltaY","onkeyup","onkeydown","onkeyleft","onkeyright","disableAnimation","animationOptions","disableKeys","onmousewheel","event","offset","cx","pageX","cy","pageY","spacePivot","onkeyplus","onkeyminus","p","Text","string","_string","_fontSize","fontSize","createText","txt","newSize","fontScale","$","document","createElement","method","disableHTML","attr","class","SPACE_ELEMENT_CLASS","append","font-size","Image","Img","src","_src","createImage","image","Group","G","Network","Net","root","Custom","C","Manager","container","_c","_pairs","_selected","contains","isSelected","oldset","newset","without","pairSetAdded","addPair","jwerty","pairset","execset","filter","object","pair","removePair","clean","pairs","version","module"],"mappings":"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"}