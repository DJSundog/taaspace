{"version":3,"file":"taaspace.min.js","sources":["taaspace.js"],"names":["window","Taaspace","exports","Space","this","_elems","_vps","_elemIdCounter","_keyboardManager","KeyboardManager","create","prototype","pivot","xyOrViewportOrElement","xy","x","y","remove","elem","_","reject","i","createImage","src","options","im","Image","_id","String","_addElement","createText","string","t","Text","createCustom","createNetwork","createGroup","createViewport","containerEl","vp","Viewport","_addViewport","select","elementOrViewport","deselect","push","each","_createDomElement","_moveDomElement","_scaleDomElement","_listenDomElements","type","callback","_listenDomElement","_onKey","code","handler","on","_offKey","off","Element","Elem","_space","_x","_y","_w","_h","_px","_py","width","height","center","box","isInside","isOutside","size","scale","rotate","moveTo","moveBy","dx","dy","scalable","rotatable","draggable","viewport","_domAppend","_domMove","domElem","fromSpace","css","left","top","_domScale","nw","se","_domRotate","_domRemove","_domListen","eventType","mousewheel","event","delta","Hammer","View","space","container","_container","document","querySelector","hasOwnProperty","$","position","overflow","_scale","_hammertime","_domPairs","_draggable","_scalable","that","_fromSpace","apply","arguments","screenW","toSpaceDistance","screenH","toSpace","d","fromSpaceDistance","multiplier","ob","oa","disableDomUpdate","_scaleEachDomElement","_moveEachDomElement","focusTo","onoff","op","status","onmousewheel","offset","cx","pageX","cy","pageY","spacePivot","onkeyplus","onkeyminus","prevdx","prevdy","ondragstart","ondrag","ev","gesture","preventDefault","deltaX","deltaY","onkeyup","onkeydown","onkeyleft","onkeyright","hideElement","showElement","indexOf","jwertyCode","substring","_getDomPair","id","name","message","_eachDomPair","iterator","dom","fs","pair","sc","_string","createElement","text","append","font-size","Img","_src","attr","Group","G","Network","Net","root","Custom","C","el","Manager","_c","_pairs","_selected","obj","contains","isSelected","oldset","newset","without","length","pairSetAdded","addPair","jwerty","key","pairset","execset","filter","p","object","call","removePair","clean","pairs","module"],"mappings":"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"}