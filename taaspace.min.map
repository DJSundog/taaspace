{"version":3,"file":"taaspace.min.js","sources":["taaspace.js"],"names":["window","Taaspace","exports","Space","this","_elems","_vps","_idCounter","_keyboardManager","KeyboardManager","create","extension","prototype","box","i","b","minx","miny","maxx","maxy","length","x0","y0","x1","y1","Math","min","max","pivot","xyOrViewportOrElement","xy","x","y","remove","elem","_","reject","importSpaceElement","pluginElement","spaceElement","_identify","push","each","vp","_createDomElement","createViewport","containerEl","options","Viewport","_addViewport","select","elementOrViewport","deselect","obj","_id","String","_eachDomElement","fn","args","_applyDomElement","_moveDomElement","_scaleDomElement","_listenDomElements","type","callback","_listenDomElement","_onKey","code","handler","on","_offKey","off","Element","Elem","_space","_x","_y","_w","_h","_px","_py","_animation","width","height","center","visibilityRatio","viewport","visibilityRatioOf","distanceRatio","distanceRatioOf","focusRatio","focusRatioOf","isInside","isOutside","size","scale","rotate","moveTo","moveBy","dx","dy","scalable","rotatable","draggable","console","warn","movable","apply","arguments","attr","_domAppend","_domMove","domElem","fromSpace","hasOwnProperty","move","get","set","duration","delay","that","end","css","left","top","_domScale","nw","se","_domRotate","_domRemove","_domListen","eventType","mousewheel","event","delta","Hammer","View","space","container","_container","document","querySelector","$","position","overflow","_scale","_hammertime","_domPairs","_movable","_scalable","_fromSpace","screenW","toSpaceDistance","screenH","toSpace","d","fromSpaceDistance","disableDomUpdate","_moveEachDomElement","multiplier","ob","oa","_scaleEachDomElement","focusTo","coverage","bcx","bcy","bw","bh","scalex","scaley","s","onoff","op","status","onmousewheel","offset","cx","pageX","cy","pageY","spacePivot","onkeyplus","onkeyminus","prevdx","prevdy","ondragstart","defaultAnimOptions","ease","animOptions","ondrag","ev","gesture","preventDefault","deltaX","deltaY","onkeyup","onkeydown","onkeyleft","onkeyright","disableAnimation","hideElement","showElement","indexOf","jwertyCode","substring","_getDomPair","id","name","message","_eachDomPair","iterator","dom","extendedArgs","slice","unshift","fs","pair","sc","Text","string","_string","_fontSize","fontSize","createText","txt","newSize","fontScale","p","createElement","method","disableHTML","append","font-size","Image","Img","src","_src","createImage","image","Group","G","Network","Net","root","Custom","C","el","Manager","_c","_pairs","_selected","contains","isSelected","oldset","newset","without","pairSetAdded","addPair","jwerty","key","pairset","execset","filter","object","call","removePair","clean","pairs","module"],"mappings":"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"}