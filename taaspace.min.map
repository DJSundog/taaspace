{"version":3,"file":"taaspace.min.js","sources":["taaspace.js"],"names":["window","Taaspace","exports","Space","this","_elems","_vps","_elemIdCounter","_keyboardManager","KeyboardManager","create","prototype","box","i","b","minx","miny","maxx","maxy","length","x0","y0","x1","y1","Math","min","max","pivot","xyOrViewportOrElement","xy","x","y","remove","elem","_","reject","createImage","src","options","im","Image","_id","String","_addElement","createText","string","t","Text","createCustom","createNetwork","createGroup","createViewport","containerEl","vp","Viewport","_addViewport","select","elementOrViewport","deselect","push","each","_createDomElement","_moveDomElement","_scaleDomElement","_listenDomElements","type","callback","_listenDomElement","_onKey","code","handler","on","_offKey","off","Element","Elem","_space","_x","_y","_w","_h","_px","_py","width","height","center","visibilityRatio","viewport","visibilityRatioOf","distanceRatio","distanceRatioOf","focusRatio","focusRatioOf","isInside","isOutside","size","scale","rotate","moveTo","moveBy","dx","dy","scalable","rotatable","draggable","_domAppend","_domMove","domElem","fromSpace","css","left","top","_domScale","nw","se","_domRotate","_domRemove","_domListen","eventType","mousewheel","event","delta","Hammer","View","space","container","_container","document","querySelector","hasOwnProperty","$","position","overflow","font-size","_scale","_hammertime","_domPairs","_draggable","_scalable","that","_fromSpace","apply","arguments","screenW","toSpaceDistance","screenH","toSpace","d","fromSpaceDistance","disableDomUpdate","_moveEachDomElement","multiplier","ob","oa","_scaleEachDomElement","focusTo","coverage","bcx","bcy","bw","bh","scalex","scaley","s","onoff","op","status","onmousewheel","offset","cx","pageX","cy","pageY","spacePivot","onkeyplus","onkeyminus","prevdx","prevdy","ondragstart","ondrag","ev","gesture","preventDefault","deltaX","deltaY","onkeyup","onkeydown","onkeyleft","onkeyright","hideElement","showElement","indexOf","jwertyCode","substring","_getDomPair","id","name","message","_eachDomPair","iterator","dom","fs","pair","sc","_string","_fontSize","fontSize","newSize","fontScale","p","createElement","span","append","method","disableHTML","children","Img","_src","attr","Group","G","Network","Net","root","Custom","C","el","Manager","_c","_pairs","_selected","obj","contains","isSelected","oldset","newset","without","pairSetAdded","addPair","jwerty","key","pairset","execset","filter","object","call","removePair","clean","pairs","module"],"mappings":"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"}