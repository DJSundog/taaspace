{"version":3,"file":"taaspace.min.js","sources":["taaspace.js"],"names":["window","Taaspace","exports","Space","this","_elems","_vps","_elemIdCounter","_keyboardManager","KeyboardManager","create","prototype","pivot","xyOrViewportOrElement","xy","x","y","remove","elem","_","reject","i","createImage","src","options","im","Image","_id","String","_addElement","createText","string","t","Text","createCustom","createNetwork","createGroup","createViewport","containerEl","vp","Viewport","_addViewport","select","elementOrViewport","deselect","push","each","_createDomElement","_moveDomElement","_scaleDomElement","_listenDomElements","type","callback","_listenDomElement","_onKey","code","handler","on","_offKey","off","Element","Elem","_space","_x","_y","_w","_h","_px","_py","width","height","center","box","isInside","isOutside","size","scale","rotate","moveTo","moveBy","dx","dy","scalable","rotatable","draggable","viewport","_domAppend","_domMove","domElem","fromSpace","css","left","top","_domScale","nw","se","_domRotate","_domRemove","_domListen","eventType","mousewheel","event","delta","Hammer","View","space","container","_container","document","querySelector","hasOwnProperty","$","position","overflow","font-size","_scale","_hammertime","_domPairs","_draggable","_scalable","that","_fromSpace","apply","arguments","screenW","toSpaceDistance","screenH","toSpace","d","fromSpaceDistance","multiplier","ob","oa","disableDomUpdate","_scaleEachDomElement","_moveEachDomElement","focusTo","onoff","op","status","onmousewheel","offset","cx","pageX","cy","pageY","spacePivot","onkeyplus","onkeyminus","prevdx","prevdy","ondragstart","ondrag","ev","gesture","preventDefault","deltaX","deltaY","onkeyup","onkeydown","onkeyleft","onkeyright","hideElement","showElement","indexOf","jwertyCode","substring","_getDomPair","id","name","message","_eachDomPair","iterator","dom","fs","pair","sc","_string","_fontSize","fontSize","newSize","fontScale","p","createElement","span","append","text","children","Img","_src","attr","Group","G","Network","Net","root","Custom","C","el","Manager","_c","_pairs","_selected","obj","contains","isSelected","oldset","newset","without","length","pairSetAdded","addPair","jwerty","key","pairset","execset","filter","object","call","removePair","clean","pairs","module"],"mappings":"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"}