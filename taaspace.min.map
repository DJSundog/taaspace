{"version":3,"file":"taaspace.min.js","sources":["taaspace.js"],"names":["Taaspace","exports","Space","el","document","body","querySelector","this","_elems","_vps","_dx","_dy","_elemIdCounter","_keyboardManager","KeyboardManager","create","prototype","origo","xy_or_viewport","xy","x","y","pivot","_moveElemsBy","remove","elem","_","reject","i","createImage","src","options","im","Image","_id","String","_addElement","createText","string","t","Text","createCustom","createNetwork","createGroup","createViewport","container_el","vp","Viewport","_addViewport","select","elementOrViewport","deselect","push","each","_createDomElement","_moveDomElement","_scaleDomElement","_listenDomElements","type","callback","_listenDomElement","_onKey","code","handler","on","_offKey","off","Element","Elem","_space","_x","_y","_w","_h","_ox","_oy","width","height","center","northwest","northeast","southwest","southeast","rect","inside","outside","size","scale","rotate","moveTo","moveBy","dx","dy","scalable","rotatable","draggable","viewport","_domAppend","_domMove","domElem","fromSpace","css","left","top","_domScale","nw","se","_domRotate","_domRemove","_domListen","eventType","mousewheel","event","delta","Hammer","View","space","container","_container","hasOwnProperty","_scale","_hammertime","_domMap","_draggable","_scalable","that","_fromSpace","apply","arguments","screenW","$","toSpaceDistance","screenH","toSpace","d","fromSpaceDistance","multiplier","ob","oa","disableDomUpdate","_scaleEachDomElement","_moveEachDomElement","focusTo","onoff","op","status","onmousewheel","spaceOrigo","pageX","pageY","onkeyplus","onkeyminus","prevdx","prevdy","ondragstart","ondrag","ev","gesture","preventDefault","deltaX","deltaY","onkeyup","onkeydown","onkeyleft","onkeyright","hideElement","showElement","indexOf","jwertyCode","substring","_getDomPair","id","name","message","_eachDomPair","iterator","dom","fs","pair","sc","_string","createElement","html","position","append","font-size","Img","_src","attr","Group","G","Network","Net","root","Custom","C","Manager","_c","_pairs","_selected","obj","contains","isSelected","oldset","newset","without","length","pairSetAdded","addPair","jwerty","key","pairset","execset","filter","p","object","call","removePair","clean","pairs"],"mappings":"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"}