{"version":3,"file":"taaspace.min.js","sources":["taaspace.js"],"names":["window","Taaspace","exports","Space","el","document","body","querySelector","this","_elems","_vps","_dx","_dy","_elemIdCounter","_keyboardManager","KeyboardManager","create","prototype","origo","xyOrViewport","xy","x","y","pivot","_moveElemsBy","remove","elem","_","reject","i","createImage","src","options","im","Image","_id","String","_addElement","createText","string","t","Text","createCustom","createNetwork","createGroup","createViewport","containerEl","vp","Viewport","_addViewport","select","elementOrViewport","deselect","push","each","_createDomElement","_moveDomElement","_scaleDomElement","_listenDomElements","type","callback","_listenDomElement","_onKey","code","handler","on","_offKey","off","Element","Elem","_space","_x","_y","_w","_h","_ox","_oy","width","height","center","northwest","northeast","southwest","southeast","rect","inside","outside","size","scale","rotate","moveTo","moveBy","dx","dy","scalable","rotatable","draggable","viewport","_domAppend","_domMove","domElem","fromSpace","css","left","top","_domScale","nw","se","_domRotate","_domRemove","_domListen","eventType","mousewheel","event","delta","Hammer","View","space","container","_container","hasOwnProperty","$","position","overflow","_scale","_hammertime","_domMap","_draggable","_scalable","that","_fromSpace","apply","arguments","screenW","toSpaceDistance","screenH","toSpace","d","fromSpaceDistance","multiplier","ob","oa","disableDomUpdate","_scaleEachDomElement","_moveEachDomElement","focusTo","onoff","op","status","onmousewheel","offset","cx","pageX","cy","pageY","spaceOrigo","onkeyplus","onkeyminus","prevdx","prevdy","ondragstart","ondrag","ev","gesture","preventDefault","deltaX","deltaY","onkeyup","onkeydown","onkeyleft","onkeyright","hideElement","showElement","indexOf","jwertyCode","substring","_getDomPair","id","name","message","_eachDomPair","iterator","dom","fs","pair","sc","_string","createElement","html","append","font-size","Img","_src","attr","Group","G","Network","Net","root","Custom","C","Manager","_c","_pairs","_selected","obj","contains","isSelected","oldset","newset","without","length","pairSetAdded","addPair","jwerty","key","pairset","execset","filter","p","object","call","removePair","clean","pairs","module"],"mappings":"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"}