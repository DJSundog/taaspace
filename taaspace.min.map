{"version":3,"file":"taaspace.min.js","sources":["taaspace.js"],"names":["window","Taaspace","exports","Space","this","_elems","_vps","_elemIdCounter","_keyboardManager","KeyboardManager","create","prototype","box","i","b","minx","miny","maxx","maxy","length","x0","y0","x1","y1","Math","min","max","pivot","xyOrViewportOrElement","xy","x","y","remove","elem","_","reject","createImage","src","options","im","Image","_id","String","_addElement","createText","string","t","Text","createCustom","createNetwork","createGroup","createViewport","containerEl","vp","Viewport","_addViewport","select","elementOrViewport","deselect","push","each","_createDomElement","_moveDomElement","_scaleDomElement","_listenDomElements","type","callback","_listenDomElement","_onKey","code","handler","on","_offKey","off","Element","Elem","_space","_x","_y","_w","_h","_px","_py","_animation","width","height","center","visibilityRatio","viewport","visibilityRatioOf","distanceRatio","distanceRatioOf","focusRatio","focusRatioOf","isInside","isOutside","size","scale","rotate","moveTo","moveBy","dx","dy","scalable","rotatable","draggable","console","warn","movable","apply","arguments","_domAppend","_domMove","domElem","fromSpace","hasOwnProperty","move","get","set","duration","delay","that","end","css","left","top","_domScale","nw","se","_domRotate","_domRemove","_domListen","eventType","mousewheel","event","delta","Hammer","View","space","container","_container","document","querySelector","$","position","overflow","_scale","_hammertime","_domPairs","_draggable","_scalable","_fromSpace","screenW","toSpaceDistance","screenH","toSpace","d","fromSpaceDistance","disableDomUpdate","_moveEachDomElement","multiplier","ob","oa","_scaleEachDomElement","focusTo","coverage","bcx","bcy","bw","bh","scalex","scaley","s","onoff","op","status","onmousewheel","offset","cx","pageX","cy","pageY","spacePivot","onkeyplus","onkeyminus","prevdx","prevdy","ondragstart","ondrag","ev","gesture","preventDefault","deltaX","deltaY","onkeyup","onkeydown","onkeyleft","onkeyright","hideElement","showElement","indexOf","jwertyCode","substring","_getDomPair","id","name","message","_eachDomPair","iterator","dom","fs","pair","sc","_string","_fontSize","fontSize","newSize","fontScale","p","createElement","method","disableHTML","append","font-size","Img","_src","attr","Group","G","Network","Net","root","Custom","C","el","Manager","_c","_pairs","_selected","obj","contains","isSelected","oldset","newset","without","pairSetAdded","addPair","jwerty","key","pairset","execset","filter","object","call","removePair","clean","pairs","module"],"mappings":"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"}