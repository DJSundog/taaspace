{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/index.js","src/Taa.js","src/Space.js","src/SpaceTaa.js","src/SpaceView.js","src/version.js","src/transformer.js","src/SpacePoint.js","node_modules/component-emitter/index.js","node_modules/kld-affine/index.js","node_modules/kld-affine/lib/Point2D.js","node_modules/kld-affine/lib/Vector2D.js","node_modules/kld-affine/lib/Matrix2D.js"],"names":["exports","Taa","require","Space","SpaceTaa","SpaceView","version","Emitter","imgSrc","onLoad","this","this2","img","Image","addEventListener","emit","setTimeout","src","proto","prototype","module","content","add","taa","st","id","on","remove","spacetaa","hasOwnProperty","space","Transformer","container","cont","cloneNode","className","appendChild","affine","SpacePoint","emitter","tr","Matrix2D","transformTo","transformation","transformBy","ctx","multiply","getPoint","xy","reference","isInvertible","Error","offset","dxdy","x","y","equals","point","projectTo","inv","inverse","spacexy","transform","obj","mixin","key","event","fn","_callbacks","push","once","off","apply","arguments","removeListener","removeAllListeners","removeEventListener","length","callbacks","cb","i","splice","args","slice","call","len","listeners","hasListeners","Point2D","Vector2D","Object","defineProperties","value","writable","enumerable","configurable","clone","that","subtract","scalar","divide","lerp","t","omt","distanceFrom","dx","dy","Math","sqrt","min","max","matrix","a","c","e","b","d","f","toString","fromPoints","p1","p2","magnitude","dot","cross","determinant","unit","angleBetween","cos","radians","acos","perp","perpendicular","project","percent","undefined","IDENTITY","det1","idet","det2","det3","translate","tx","ty","scale","scaleAt","center","scaleNonUniform","scaleX","scaleY","scaleNonUniformAt","rotate","s","sin","rotateAt","t1","t2","rotateFromVector","vector","flipX","flipY","skewX","tan","skewY","angle","matrix_new","isIdentity","getScale"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\nexports.Taa = require('./Taa');\nexports.Space = require('./Space');\nexports.SpaceTaa = require('./SpaceTaa');\nexports.SpaceView = require('./SpaceView');\n\nexports.version = require('./version');\n","var Emitter = require('component-emitter');\n\nvar Taa = function (imgSrc, onLoad) {\n  // Parameters\n  //   imgSrc\n  //   onLoad, function (taa)\n  Emitter(this);\n  var this2 = this;\n\n  this.img = new Image(256, 256);\n  this.img.addEventListener('load', function () {\n    onLoad(this2);\n    this2.emit('load', this2);\n  }, false); // useCapture=false\n\n  // Allow on('load') binding to fire after 'new Taa(...)'\n  // even when image is already cached. The following executes\n  // event after the current stack has been executed.\n  setTimeout(function () {\n    this2.img.src = imgSrc;\n  }, 0);\n};\n\nvar proto = Taa.prototype;\n\nmodule.exports = Taa;\n","/*\nEmits\n  contentAdded\n  contentRemoved\n    not thrown if the content to remove did not exist in the first place.\n  contentTransformed\n*/\nvar Emitter = require('component-emitter');\nvar SpaceTaa = require('./SpaceTaa');\n\nvar Space = function () {\n  Emitter(this);\n\n  this.content = {}; // Dict over list because key search time complexity\n};\n\nvar proto = Space.prototype;\n\nproto.add = function (taa) {\n  // Return\n  //   SpaceTaa\n  //\n  var this2 = this;\n\n  var st = new SpaceTaa(this, taa);\n  this.content[st.id] = st;\n\n  st.on('transformed', function (st) {\n    this2.emit('contentTransformed', st);\n  });\n\n  this.emit('contentAdded', st);\n\n  return st;\n};\n\nproto.remove = function (spacetaa) {\n  if (this.content.hasOwnProperty(spacetaa.id)) {\n    delete this.content[spacetaa.id];\n    this.emit('contentRemoved', spacetaa);\n  }\n  // Nothing to remove, nothing to emit\n};\n\nmodule.exports = Space;\n","var Emitter = require('component-emitter');\n\nvar SpaceTaa = function (space, taa) {\n  Emitter(this);\n  Transformer(this);\n\n  this.space = space;\n  this.taa = taa;\n};\n","/*\nView\n*/\nvar Emitter = require('component-emitter');\nvar Transformer = require('./transformer');\n\nvar SpaceView = function (space, container) {\n  Emitter(this);\n  Transformer(this);\n\n  this.space = space;\n  this.cont = container;\n\n  this.content = {}; // Dict over list because key search time complexity\n\n  // Listen the space for new taas or transformations\n  \n  this.space.on('contentAdded', function (spacetaa) {\n    if (this.content.hasOwnProperty(spacetaa.id)) {\n      // SpaceTaa is already drawn.\n    } else {\n      var img = spacetaa.taa.img.cloneNode(false); // deep=false\n      img.className = 'taaspace-taa';\n      this.cont.appendChild(img);\n      this.content[spacetaa.id] = spacetaa;\n      // Make transformation\n    }\n  });\n\n  this.space.on('contentRemoved', function (spacetaa) {\n    delete this.content[spacetaa.id]; // does not throw if does not exist\n  });\n\n  this.space.on('contentTransformed', function (spacetaa) {\n    // Update transformation\n  });\n};\n","module.exports = '3.0.0dev';\n","var affine = require('kld-affine');\nvar SpacePoint = require('./SpacePoint');\n\nvar Transformer = function (emitter) {\n  emitter.tr = new affine.Matrix2D(); // def to identity\n\n  emitter.transformTo = function (transformation) {\n    emitter.tr = transformation;\n    emitter.emit('transformed', emitter);\n  };\n\n  emitter.transformBy = function (transformation) {\n    emitter.tr = ctx.tr.multiply(transformation);\n    emitter.emit('transformed', emitter);\n  };\n\n  emitter.getPoint = function (xy) {\n    return new SpacePoint(xy, emitter);\n  };\n};\n","var SpacePoint = function (xy, reference) {\n  // Example\n  //   var p = taaspace.Point([x, y], taa);\n  //\n  // Parameter\n  //   xy\n  //     kldaffine.Vector2D\n  //   reference\n  //     item in space, enabling coord projections.\n  this.xy = xy;\n\n  // Transformation from space to member\n  this.tr = reference.tr;\n  if (!this.tr.isInvertible()) {\n    throw new Error('Invertible transformation matrix');\n  }\n};\n\nvar proto = SpacePoint.prototype;\n\n\nproto.offset = function (dxdy) {\n  // Create a new point nearby.\n  var x = this.xy[0] + dxdy[0];\n  var y = this.xy[1] + dxdy[1];\n  return new SpacePoint([x, y], this.tr);\n};\n\nproto.equals = function (point) {\n  return (this.xy[0] === point.xy[0] &&\n          this.xy[1] === point.xy[1] &&\n          this.tr.equals(point.tr));\n};\n\nproto.projectTo = function (reference) {\n  var inv = this.tr.inverse();\n  var spacexy = this.xy.transform(inv);\n  return spacexy.transform(reference.tr);\n};\n\n\nmodule.exports = SpacePoint;\n","\n/**\n * Expose `Emitter`.\n */\n\nmodule.exports = Emitter;\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n};\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n  var args = [].slice.call(arguments, 1)\n    , callbacks = this._callbacks['$' + event];\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","// expose classes\n\nexports.Point2D = require('./lib/Point2D');\nexports.Vector2D = require('./lib/Vector2D');\nexports.Matrix2D = require('./lib/Matrix2D');\n","/**\n *\n *   Point2D.js\n *\n *   copyright 2001-2002, 2013 Kevin Lindsey\n *\n */\n\n/**\n *  Point2D\n *\n *  @param {Number} x\n *  @param {Number} y\n *  @returns {Point2D}\n */\nfunction Point2D(x, y) {\n    Object.defineProperties(this, {\n        \"x\": {\n            value: x,\n            writable: false,\n            enumerable: true,\n            configurable: false\n        },\n        \"y\": {\n            value: y,\n            writable: false,\n            enumerable: true,\n            configurable: false\n        }\n    });\n    // this.x = x;\n    // this.y = y;\n}\n\n/**\n *  clone\n *\n *  @returns {Point2D}\n */\nPoint2D.prototype.clone = function() {\n    return new Point2D(this.x, this.y);\n};\n\n/**\n *  add\n *\n *  @param {Point2D|Vector2D} that\n *  @returns {Point2D}\n */\nPoint2D.prototype.add = function(that) {\n    return new Point2D(this.x+that.x, this.y+that.y);\n};\n\n/**\n *  subtract\n *\n *  @param { Vector2D | Point2D } that\n *  @returns {Point2D}\n */\nPoint2D.prototype.subtract = function(that) {\n    return new Point2D(this.x-that.x, this.y-that.y);\n};\n\n/**\n *  multiply\n *\n *  @param {Number} scalar\n *  @returns {Point2D}\n */\nPoint2D.prototype.multiply = function(scalar) {\n    return new Point2D(this.x*scalar, this.y*scalar);\n};\n\n/**\n *  divide\n *\n *  @param {Number} scalar\n *  @returns {Point2D}\n */\nPoint2D.prototype.divide = function(scalar) {\n    return new Point2D(this.x/scalar, this.y/scalar);\n};\n\n/**\n *  equals\n *\n *  @param {Point2D} that\n *  @returns {Boolean}\n */\nPoint2D.prototype.equals = function(that) {\n    return ( this.x == that.x && this.y == that.y );\n};\n\n// utility methods\n\n/**\n *  lerp\n *\n *  @param { Vector2D | Point2D } that\n *  @param {Number} t\n @  @returns {Point2D}\n */\nPoint2D.prototype.lerp = function(that, t) {\n    var omt = 1.0 - t;\n\n    return new Point2D(\n        this.x * omt + that.x * t,\n        this.y * omt + that.y * t\n    );\n};\n\n/**\n *  distanceFrom\n *\n *  @param {Point2D} that\n *  @returns {Number}\n */\nPoint2D.prototype.distanceFrom = function(that) {\n    var dx = this.x - that.x;\n    var dy = this.y - that.y;\n\n    return Math.sqrt(dx*dx + dy*dy);\n};\n\n/**\n *  min\n *\n *  @param {Point2D} that\n *  @returns {Number}\n */\nPoint2D.prototype.min = function(that) {\n    return new Point2D(\n        Math.min( this.x, that.x ),\n        Math.min( this.y, that.y )\n    );\n};\n\n/**\n *  max\n *\n *  @param {Point2D} that\n *  @returns {Number}\n */\nPoint2D.prototype.max = function(that) {\n    return new Point2D(\n        Math.max( this.x, that.x ),\n        Math.max( this.y, that.y )\n    );\n};\n\n/**\n *  transform\n *\n *  @param {Matrix2D}\n *  @result {Point2D}\n */\nPoint2D.prototype.transform = function(matrix) {\n    return new Point2D(\n        matrix.a * this.x + matrix.c * this.y + matrix.e,\n        matrix.b * this.x + matrix.d * this.y + matrix.f\n    );\n};\n\n/**\n *  toString\n *\n *  @returns {String}\n */\nPoint2D.prototype.toString = function() {\n    return \"point(\" + this.x + \",\" + this.y + \")\";\n};\n\nif (typeof module !== \"undefined\") {\n    module.exports = Point2D;\n}\n","/**\n *\n *   Vector2D.js\n *\n *   copyright 2001-2002, 2013 Kevin Lindsey\n *\n */\n\n/**\n *  Vector2D\n *\n *  @param {Number} x\n *  @param {Number} y\n *  @returns {Vector2D}\n */\nfunction Vector2D(x, y) {\n    Object.defineProperties(this, {\n        \"x\": {\n            value: x,\n            writable: false,\n            enumerable: true,\n            configurable: false\n        },\n        \"y\": {\n            value: y,\n            writable: false,\n            enumerable: true,\n            configurable: false\n        }\n    });\n    // this.x = x;\n    // this.y = y;\n}\n\n/**\n *  fromPoints\n *\n *  @param {Point2D} p1\n *  @param {Point2D} p2\n *  @returns {Vector2D}\n */\nVector2D.fromPoints = function(p1, p2) {\n    return new Vector2D(\n        p2.x - p1.x,\n        p2.y - p1.y\n    );\n};\n\n/**\n *  length\n *\n *  @returns {Number}\n */\nVector2D.prototype.length = function() {\n    return Math.sqrt(this.x*this.x + this.y*this.y);\n};\n\n/**\n *  magnitude\n *\n *  @returns {Number}\n */\nVector2D.prototype.magnitude = function() {\n    return this.x*this.x + this.y*this.y;\n};\n\n/**\n *  dot\n *\n *  @param {Vector2D} that\n *  @returns {Number}\n */\nVector2D.prototype.dot = function(that) {\n    return this.x*that.x + this.y*that.y;\n};\n\n/**\n *  cross\n *\n *  @param {Vector2D} that\n *  @returns {Number}\n */\nVector2D.prototype.cross = function(that) {\n    return this.x*that.y - this.y*that.x;\n}\n\n/**\n *  determinant\n *\n *  @param {Vector2D} that\n *  @returns {Number}\n */\nVector2D.prototype.determinant = function(that) {\n    return this.x*that.y - this.y*that.x;\n};\n\n/**\n *  unit\n *\n *  @returns {Vector2D}\n */\nVector2D.prototype.unit = function() {\n    return this.divide( this.length() );\n};\n\n/**\n *  add\n *\n *  @param {Vector2D} that\n *  @returns {Vector2D}\n */\nVector2D.prototype.add = function(that) {\n    return new Vector2D(this.x + that.x, this.y + that.y);\n};\n\n/**\n *  subtract\n *\n *  @param {Vector2D} that\n *  @returns {Vector2D}\n */\nVector2D.prototype.subtract = function(that) {\n    return new Vector2D(this.x - that.x, this.y - that.y);\n};\n\n/**\n *  multiply\n *\n *  @param {Number} scalar\n *  @returns {Vector2D}\n */\nVector2D.prototype.multiply = function(scalar) {\n    return new Vector2D(this.x * scalar, this.y * scalar);\n};\n\n/**\n *  divide\n *\n *  @param {Number} scalar\n *  @returns {Vector2D}\n */\nVector2D.prototype.divide = function(scalar) {\n    return new Vector2D(this.x / scalar, this.y / scalar);\n};\n\n/**\n *  angleBetween\n *\n *  @param {Vector2D} that\n *  @returns {Number}\n */\nVector2D.prototype.angleBetween = function(that) {\n    var cos = this.dot(that) / (this.length() * that.length());\n    if (cos < -1) {\n        cos = -1;\n    }\n    else if (cos > 1) {\n        cos = 1;\n    }\n    var radians = Math.acos(cos);\n\n    return (this.cross(that) < 0.0) ? -radians : radians;\n};\n\n/**\n *  Find a vector is that is perpendicular to this vector\n *\n *  @returns {Vector2D}\n */\nVector2D.prototype.perp = function() {\n    return new Vector2D(-this.y, this.x);\n};\n\n/**\n *  Find the component of the specified vector that is perpendicular to\n *  this vector\n *\n *  @param {Vector2D} that\n *  @returns {Vector2D}\n */\nVector2D.prototype.perpendicular = function(that) {\n    return this.subtract(this.project(that));\n};\n\n/**\n *  project\n *\n *  @param {Vector2D} that\n *  @returns {Vector2D}\n */\nVector2D.prototype.project = function(that) {\n    var percent = this.dot(that) / that.dot(that);\n\n    return that.multiply(percent);\n};\n\n/**\n *  transform\n *\n *  @param {Matrix2D}\n *  @returns {Vector2D}\n */\nVector2D.prototype.transform = function(matrix) {\n    return new Vector2D(\n        matrix.a * this.x + matrix.c * this.y,\n        matrix.b * this.x + matrix.d * this.y\n    );\n};\n\n/**\n *  equals\n *\n *  @param {Vector2D} that\n *  @returns {Boolean}\n */\nVector2D.prototype.equals = function(that) {\n    return (\n        this.x === that.x &&\n        this.y === that.y\n    );\n};\n\n/**\n *  toString\n *\n *  @returns {String}\n */\nVector2D.prototype.toString = function() {\n    return \"vector(\" + this.x + \",\" + this.y + \")\";\n};\n\nif (typeof module !== \"undefined\") {\n    module.exports = Vector2D;\n}\n","/**\n *\n *   Matrix2D.js\n *\n *   copyright 2001-2002, 2013 Kevin Lindsey\n *\n */\n\n/**\n *  Matrix2D\n *\n *  @param {Number} a\n *  @param {Number} b\n *  @param {Number} c\n *  @param {Number} d\n *  @param {Number} e\n *  @param {Number} f\n *  @returns {Matrix2D}\n */\nfunction Matrix2D(a, b, c, d, e, f) {\n    Object.defineProperties(this, {\n        \"a\": {\n            value: (a !== undefined) ? a : 1,\n            writable: false,\n            enumerable: true,\n            configurable: false\n        },\n        \"b\": {\n            value: (b !== undefined) ? b : 0,\n            writable: false,\n            enumerable: true,\n            configurable: false\n        },\n        \"c\": {\n            value: (c !== undefined) ? c : 0,\n            writable: false,\n            enumerable: true,\n            configurable: false\n        },\n        \"d\": {\n            value: (d !== undefined) ? d : 1,\n            writable: false,\n            enumerable: true,\n            configurable: false\n        },\n        \"e\": {\n            value: (e !== undefined) ? e : 0,\n            writable: false,\n            enumerable: true,\n            configurable: false\n        },\n        \"f\": {\n            value: (f !== undefined) ? f : 0,\n            writable: false,\n            enumerable: true,\n            configurable: false\n        }\n    });\n    // this.a = (a !== undefined) ? a : 1;\n    // this.b = (b !== undefined) ? b : 0;\n    // this.c = (c !== undefined) ? c : 0;\n    // this.d = (d !== undefined) ? d : 1;\n    // this.e = (e !== undefined) ? e : 0;\n    // this.f = (f !== undefined) ? f : 0;\n}\n\n/**\n *  Identity matrix\n *\n *  @returns {Matrix2D}\n */\nMatrix2D.IDENTITY = new Matrix2D(1, 0, 0, 1, 0, 0);\n\n// TODO: rotate, skew, etc. matrices as well?\n\n/**\n *  multiply\n *\n *  @pararm {Matrix2D} that\n *  @returns {Matrix2D}\n */\nMatrix2D.prototype.multiply = function(that) {\n    return new Matrix2D(\n        this.a * that.a + this.c * that.b,\n        this.b * that.a + this.d * that.b,\n        this.a * that.c + this.c * that.d,\n        this.b * that.c + this.d * that.d,\n        this.a * that.e + this.c * that.f + this.e,\n        this.b * that.e + this.d * that.f + this.f\n    );\n};\n\n/**\n *  inverse\n *\n *  @returns {Matrix2D}\n */\nMatrix2D.prototype.inverse = function() {\n    var det1 = this.a * this.d - this.b * this.c;\n\n    if ( det1 == 0.0 )\n        throw(\"Matrix is not invertible\");\n\n    var idet = 1.0 / det1;\n    var det2 = this.f * this.c - this.e * this.d;\n    var det3 = this.e * this.b - this.f * this.a;\n\n    return new Matrix2D(\n        this.d * idet,\n       -this.b * idet,\n       -this.c * idet,\n        this.a * idet,\n          det2 * idet,\n          det3 * idet\n    );\n};\n\n/**\n *  translate\n *\n *  @param {Number} tx\n *  @param {Number} ty\n *  @returns {Matrix2D}\n */\nMatrix2D.prototype.translate = function(tx, ty) {\n    return new Matrix2D(\n        this.a,\n        this.b,\n        this.c,\n        this.d,\n        this.a * tx + this.c * ty + this.e,\n        this.b * tx + this.d * ty + this.f\n    );\n};\n\n/**\n *  scale\n *\n *  @param {Number} scale\n *  @returns {Matrix2D}\n */\nMatrix2D.prototype.scale = function(scale) {\n    return new Matrix2D(\n        this.a * scale,\n        this.b * scale,\n        this.c * scale,\n        this.d * scale,\n        this.e,\n        this.f\n    );\n};\n\n/**\n *  scaleAt\n *\n *  @param {Number} scale\n *  @param {Point2D} center\n *  @returns {Matrix2D}\n */\nMatrix2D.prototype.scaleAt = function(scale, center) {\n    var dx = center.x - scale * center.x;\n    var dy = center.y - scale * center.y;\n\n    return new Matrix2D(\n        this.a * scale,\n        this.b * scale,\n        this.c * scale,\n        this.d * scale,\n        this.a * dx + this.c * dy + this.e,\n        this.b * dx + this.d * dy + this.f\n    );\n};\n\n/**\n *  scaleNonUniform\n *\n *  @param {Number} scaleX\n *  @param {Number} scaleY\n *  @returns {Matrix2D}\n */\nMatrix2D.prototype.scaleNonUniform = function(scaleX, scaleY) {\n    return new Matrix2D(\n        this.a * scaleX,\n        this.b * scaleX,\n        this.c * scaleY,\n        this.d * scaleY,\n        this.e,\n        this.f\n    );\n};\n\n/**\n *  scaleNonUniformAt\n *\n *  @param {Number} scaleX\n *  @param {Number} scaleY\n *  @param {Point2D} center\n *  @returns {Matrix2D}\n */\nMatrix2D.prototype.scaleNonUniformAt = function(scaleX, scaleY, center) {\n    var dx = center.x - scaleX * center.x;\n    var dy = center.y - scaleY * center.y;\n\n    return new Matrix2D(\n        this.a * scaleX,\n        this.b * scaleX,\n        this.c * scaleY,\n        this.d * scaleY,\n        this.a * dx + this.c * dy + this.e,\n        this.b * dx + this.d * dy + this.f\n    );\n};\n\n/**\n *  rotate\n *\n *  @param {Number} radians\n *  @returns {Matrix2D}\n */\nMatrix2D.prototype.rotate = function(radians) {\n    var c = Math.cos(radians);\n    var s = Math.sin(radians);\n\n    return new Matrix2D(\n        this.a *  c + this.c * s,\n        this.b *  c + this.d * s,\n        this.a * -s + this.c * c,\n        this.b * -s + this.d * c,\n        this.e,\n        this.f\n    );\n};\n\n/**\n *  rotateAt\n *\n *  @param {Number} radians\n *  @param {Point2D} center\n *  @result {Matrix2D}\n */\nMatrix2D.prototype.rotateAt = function(radians, center) {\n    var c = Math.cos(radians);\n    var s = Math.sin(radians);\n    var t1 = -center.x + center.x * c - center.y * s;\n    var t2 = -center.y + center.y * c + center.x * s;\n\n    return new Matrix2D(\n        this.a *  c + this.c * s,\n        this.b *  c + this.d * s,\n        this.a * -s + this.c * c,\n        this.b * -s + this.d * c,\n        this.a * t1 + this.c * t2 + this.e,\n        this.b * t1 + this.d * t2 + this.f\n    );\n};\n\n/**\n *  rotateFromVector\n *\n *  @param {Vector2D}\n *  @returns {Matrix2D}\n */\nMatrix2D.prototype.rotateFromVector = function(vector) {\n    var unit = vector.unit();\n    var c = unit.x; // cos\n    var s = unit.y; // sin\n\n    return new Matrix2D(\n        this.a *  c + this.c * s,\n        this.b *  c + this.d * s,\n        this.a * -s + this.c * c,\n        this.b * -s + this.d * c,\n        this.e,\n        this.f\n    );\n};\n\n/**\n *  flipX\n *\n *  @returns {Matrix2D}\n */\nMatrix2D.prototype.flipX = function() {\n    return new Matrix2D(\n        -this.a,\n        -this.b,\n         this.c,\n         this.d,\n         this.e,\n         this.f\n    );\n};\n\n/**\n *  flipY\n *\n *  @returns {Matrix2D}\n */\nMatrix2D.prototype.flipY = function() {\n    return new Matrix2D(\n         this.a,\n         this.b,\n        -this.c,\n        -this.d,\n         this.e,\n         this.f\n    );\n};\n\n/**\n *  skewX\n *\n *  @pararm {Number} radians\n *  @returns {Matrix2D}\n */\nMatrix2D.prototype.skewX = function(radians) {\n    var t = Math.tan(radians);\n\n    return new Matrix2D(\n        this.a,\n        this.b,\n        this.a * t + this.c,\n        this.b * t + this.d,\n        this.e,\n        this.f\n    );\n};\n\n// TODO: skewXAt\n\n/**\n *  skewY\n *\n *  @pararm {Number} radians\n *  @returns {Matrix2D}\n */\nMatrix2D.prototype.skewY = function(radians) {\n    var t = Math.tan(angle);\n\n    return matrix_new(\n        this.a + this.c * t,\n        this.b + this.d * t,\n        this.c,\n        this.d,\n        this.e,\n        this.f\n    );\n};\n\n// TODO: skewYAt\n\n/**\n *  isIdentity\n *\n *  @returns {Boolean}\n */\nMatrix2D.prototype.isIdentity = function() {\n    return (\n        this.a === 1.0 &&\n        this.b === 0.0 &&\n        this.c === 0.0 &&\n        this.d === 1.0 &&\n        this.e === 0.0 &&\n        this.f === 0.0\n    );\n};\n\n/**\n *  isInvertible\n *\n *  @returns {Boolean}\n */\nMatrix2D.prototype.isInvertible = function() {\n    this.a * this.d - this.b * this.c !== 0.0;\n};\n\n/**\n *  getScale\n *\n *  @returns {scaleX: Number, scaleY: Number}\n */\nMatrix2D.prototype.getScale = function() {\n    return {\n        scaleX: Math.sqrt(this.a * this.a + this.c * this.c),\n        scaleY: Math.sqrt(this.b * this.b + this.d * this.d)\n    };\n};\n\n/**\n *  equals\n *\n *  @param {Matrix2D} that\n *  @returns {Boolean}\n */\nMatrix2D.prototype.equals = function(that) {\n    return (\n        this.a === that.a &&\n        this.b === that.b &&\n        this.c === that.c &&\n        this.d === that.d &&\n        this.e === that.e &&\n        this.f === that.f\n    );\n};\n\n/**\n *  toString\n *\n *  @returns {String}\n */\nMatrix2D.prototype.toString = function() {\n    return (\n        \"matrix(\" +\n        this.a + \",\" +\n        this.b + \",\" +\n        this.c + \",\" +\n        this.d + \",\" +\n        this.e + \",\" +\n        this.f + \")\"\n    );\n}\n\nif (typeof module !== \"undefined\") {\n    module.exports = Matrix2D;\n}"]}